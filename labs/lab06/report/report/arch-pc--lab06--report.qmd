---
## Author
author:
  name: Гайдук Софья Сергеевна
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1032253645@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе №6"
subtitle: "дисциплина: Архитектура компьютера"
license: "CC BY"
---

# Цель работы

Освоить арифметические инструкции языка ассемблера NASM.

# Выполнение лабораторной работы

Создадим каталог для программ лабораторной работы № 6, перейдем в него и
создадим файл lab6-1.asm ([рис. @fig-001]).

![image1](image/image1.jpg){#fig-001 width=70%}

Введем в файл lab6-1.asm текст программы данный в условии ([рис. @fig-002]).

![image2](image/image2.jpg){#fig-002 width=70%}

Создадим исполняемый файл и запустим его ([рис. @fig-003]).

![image3](image/image3.jpg){#fig-003 width=70%}

Результатом будет символ j.

Ранее перенесли in_out.asm в каталог ~/work/arch-pc/lab06. 


Изменим текст программы и вместо символов, запишем в регистры числа ([рис. @fig-004]).

![image4](image/image4.jpg){#fig-004 width=70%}

Создадим исполняемый файл и запустим его ([рис. @fig-005]).

![image5](image/image5.jpg){#fig-005 width=70%}

Код 10 соответствует символу пробел (" "). Он также, как и символ j, отображается при выводе на экран.

Создадим файл lab6-2.asm в каталоге ~/work/arch-pc/lab06 и введем в него текст программы из условия ([рис. @fig-006, @fig-007])

![image6](image/image6.jpg){#fig-006 width=70%}


![image7](image/image7.jpg){#fig-007 width=70%}

Создадим исполняемый файл и запустим его ([рис. @fig-008]).

![image8](image/image8.jpg){#fig-008 width=70%}

Заменим символы на числа ([рис. @fig-009]).

![image9](image/image9.jpg){#fig-009 width=70%}

Создадим исполняемый файл и запустим его ([рис. @fig-010]).

![image10](image/image10.jpg){#fig-010 width=70%}

Результатом будет выведенно 10 и командная строка будет ниже.

Заменим функцию iprintLF на iprint. Создадим исполняемый файл и запустим его ([рис. @fig-011, @fig-012])

![image11](image/image11.jpg){#fig-011 width=70%}


![image12](image/image12.jpg){#fig-012 width=70%}

Результатом будет выведенно 10 и командная строка идет сразу же после вывода.

Вывод функций iprintLF и iprint отличается тем, что в первом случае командная строка смещается на следующую строку, а во втором - остается и начинается сразу после вывода.

Создадим файл lab6-3.asm в каталоге ~/work/arch-pc/lab06 ([рис. @fig-013]).

![image13](image/image13.jpg){#fig-013 width=70%}

Введем в lab6-3.asm программу из условия ([рис. @fig-014]).

![image14](image/image14.jpg){#fig-014 width=70%}

Создадим исполняемый файл и запустим его ([рис. @fig-015]).

![image15](image/image15.jpg){#fig-015 width=70%}

Изменим текст программы для вычисления выражения (f(x)=(4*6+2)/5), создадим исполняемый файл и проверим его работу ([рис. @fig-016, @fig-017])

![image16](image/image16.jpg){#fig-016 width=70%}


![image17](image/image17.jpg){#fig-017 width=70%}

Создадим файл variant.asm в каталоге ~/work/arch-pc/lab06 и проверим его существование ([рис. @fig-018])

![image18](image/image18.jpg){#fig-018 width=70%}

Введем в файл текст программы из листинга ([рис. @fig-019])

![image19](image/image19.jpg){#fig-019 width=70%}

Создадим исполняемый файл и запустим его, а также проверим результат работы программы вычислив номер варианта аналитически (с помощью языка питона) ([рис. @fig-020, @fig-021])

![image20](image/image20.jpg){#fig-020 width=70%}


![image21](image/image21.jpg){#fig-021 width=70%}

Ответ сходится. 

1. Какие строки листинга 6.4 отвечают за вывод на экран сообщения ‘Ваш вариант:’?

За вывод на экран сообщения ‘Ваш вариант:’ отвечают строки mov eax,rem и call sprint(image23), rem - название переменной, в которой находится сообщение ‘Ваш вариант:’. ([рис. @fig-022, @fig-023])

![image22](image/image22.jpg){#fig-022 width=70%}


![image23](image/image23.jpg){#fig-023 width=70%}

2. Для чего используется следующие инструкции? ([рис. @fig-024])

![image24](image/image24.jpg){#fig-024 width=70%}

mov ecx, x - используется для указания адреса переменной x в регистре ecx.
mov edx, 80 - используется для указания размера или длины в байтах, в данной ситуации 80
call sread - вызов функции sread для чтения выше заданного кода. 

3. Для чего используется инструкция “call atoi”?

call atoi - вызов функции atoi для преобразования ASCII строки в целое число.

4. Какие строки листинга 6.4 отвечают за вычисления варианта? 

За вычисления варианта отвечают строки ([рис. @fig-025])

![image25](image/image25.jpg){#fig-025 width=70%}

5. В какой регистр записывается остаток от деления при выполнении инструкции “div ebx”?

Остаток от деления при выполнении инструкции “div ebx” записывается в edx. 

6. Для чего используется инструкция “inc edx”?

Для увеличения значения регистра edx на единицу. 

7. Какие строки листинга 6.4 отвечают за вывод на экран результата вычислений?

Строки mov eax,edx и call iprintLF ([рис. @fig-026])

![image26](image/image26.jpg){#fig-026 width=70%}

# Задания для самоятоятельной работы 

Напишем программу вычисления выражения x^3/2+1 ([рис. @fig-027])

![image27](image/image27.jpg){#fig-027 width=70%}

Создадим исполняемый файл и проверим его работу для значений x=2 и x=5, заданных в условии ([рис. @fig-028])

![image28](image/image28.jpg){#fig-028 width=70%}

Отправим на Github ([рис. @fig-029])

![image29](image/image29.jpg){#fig-029 width=70%}

# Выводы

Мы изучили арифметические инструкции языка ассемблера NASM.

::: {#refs}
:::
