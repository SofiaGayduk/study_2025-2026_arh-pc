---
## Author
author:
  name: Гайдук Софья Сергеевна
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1032253645@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе №7"
subtitle: "дисциплина: Архитектура компьютера"
license: "CC BY"
---

# Цель работы

Изучить команды условного и безусловного переходов. Освоить навыки написания программ с использованием переходов. Познакомиться с назначением и структурой файла листинга.

# Выполнение лабораторной работы

Создадим каталог для программ лабораторной работы № 7, перейдем в него и создадим файл lab7-1.asm. Проверим его наличие ([рис. @fig-001]).

![image1](image/image1.jpg){#fig-001 width=70%}

Введем в файл lab7-1.asm текст программы из листинга 7.1 ([рис. @fig-002]).

![image2](image/image2.jpg){#fig-002 width=70%}

Создадим исполняемый файл и запустим его ([рис. @fig-003]).

![image3](image/image3.jpg){#fig-003 width=70%}

Изменим текст программы в соответствии с листингом 7.2 ([рис. @fig-004]).

![image4](image/image4.jpg){#fig-004 width=70%}

Создадим исполняемый файл и проверим его работу ([рис. @fig-005]).

![image5](image/image5.jpg){#fig-005 width=70%}

Изменим текст программы добавив и изменив инструкции jmp, чтобы вывод программы был следующим: 
Сообщение № 3
Сообщение № 2
Сообщение № 1 ([рис. @fig-006]).

![image6](image/image6.jpg){#fig-006 width=70%}

Создадим исполняемый файл и проверим его работу ([рис. @fig-007]).

![image7](image/image7.jpg){#fig-007 width=70%}

Создадим файл lab7-2.asm в каталоге ~/work/arch-pc/lab07. Введем в lab7-2.asm текст из листинга 7.3 ([рис. @fig-008, @fig-009]).

![image8](image/image8.jpg){#fig-008 width=70%}


![image9](image/image9.jpg){#fig-009 width=70%}

Создадим исполняемый файл и проверим его работу для разных значений B ([рис. @fig-010]).

![image10](image/image10.jpg){#fig-010 width=70%}

Создадим файл листинга для программы из файла lab7-2.asm, указав ключ -l и задав имя файла листинга lab7-2.lst ([рис. @fig-011]).

![image11](image/image11.jpg){#fig-011 width=70%}

Откроем файл листинга lab7-2.lst с помощью текстового редактора mcedit ([рис. @fig-012]).

![image12](image/image12.jpg){#fig-012 width=70%}

Объясним содержимое трёх строк (17, 18, 19) файла листинга lab7-2.lst ([рис. @fig-013]).

![image13](image/image13.jpg){#fig-013 width=70%}

17 - это номер строки 

000000F2 - это адрес (смещение машинного кода от начала текущего сегмента)

B9[0A000000] - машинный код (ассемблированную исходную строку в виде шестнадцатеричной последовательности)

mov ecx, B - исходный текст программы 

mov - это команда пересылки данных на языке ассемблера.

ecx - это регистр (сверхбыстрая оперативная память небольшого объёма, для хранения переменой (результата), максимальная длина которой — 32 бита). В него мы запишем адрес B. 

'B' - это введенная нами переменная.

18 - это номер строки 

000000F7 - это адрес (смещение машинного кода от начала текущего сегмента)

BA0A000000 - машинный код (ассемблированную исходную строку в виде шестнадцатеричной последовательности)

mov edx, 10 - исходный текст программы 

mov - это команда пересылки данных на языке ассемблера.

edx - это регистр (сверхбыстрая оперативная память небольшого объёма, для хранения переменой (результата), максимальная длина которой — 32 бита). В него мы запишем длину B. 

10 - это длина переменой B.

19 - это номер строки

000000FC - это адрес (смещение машинного кода от начала текущего сегмента)

E842FFFFFF - машинный код (ассемблированную исходную строку в виде шестнадцатеричной последовательности)

call sread - это вызов подпрограммы из внешнего файла для считывания ввода с клавиатуры. 



Откроем файл с программой lab7-2.asm и в инструкции с двумя операндами
удалим один операнд (удалим строку mov edx, 10). Выполним трансляцию с получением файла листинга ([рис. @fig-014, @fig-015]).

![image14](image/image14.jpg){#fig-014 width=70%}


![image15](image/image15.jpg){#fig-015 width=70%}

В листинге изменится машинный код так, как мы удалили одну строку, следовательно, код программы меняется. 

# Задания для самоятоятельной работы 

1. Создадим файл lab7-3.asm. Напишем программу нахождения наименьшей из 3 целочисленных переменных A, B, C. Значения переменных будут равны A=79, B=83, C=41 из таблицы 7.5 вариант 6, полученным при выполнении лабораторной работы №6. Создадим исполняемый файл и проверим его работу ([рис. @fig-016, @fig-017]).

![image16](image/image16.jpg){#fig-016 width=70%}


![image17](image/image17.jpg){#fig-017 width=70%}

2. Создадим файл lab7-4.asm. Напишем программу, которая для введенных с клавиатуры значений x и a вычисляет значение заданной функции f(x) и выводит результат вычислений. Вид функции f(x) и значения x и a выбрем из таблицы 7.6 вариант 6, полученным при выполнении лабораторной работы №6. Создадим исполняемый файл и проверим его работу. При x=a вывести x+a, при x не =a вывести 5x ([рис. @fig-018, @fig-019, @fig-020]).

![image18](image/image18.jpg){#fig-018 width=70%}


![image19](image/image19.jpg){#fig-019 width=70%}


![image20](image/image20.jpg){#fig-020 width=70%}

# Выводы

Мы изучили команды условного и безусловного переходов. Научились писать программы с использованием переходов. Познакомились с назначением и структурой файла листинга.

::: {#refs}
:::
